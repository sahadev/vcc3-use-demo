{"version":3,"file":"collapse.vue_vue_type_script_lang.js","sources":["../../../../../../packages/components/collapse/src/collapse.vue"],"sourcesContent":["<template>\n  <div class=\"el-collapse\" role=\"tablist\" aria-multiselectable=\"true\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch, provide } from 'vue'\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '@element-plus/utils/constants'\nimport type { PropType } from 'vue'\nimport type { CollapseProvider } from './collapse.type'\n\nexport default defineComponent({\n  name: 'ElCollapse',\n  props: {\n    accordion: Boolean,\n    modelValue: {\n      type: [Array, String, Number] as PropType<\n        string | number | Array<string | number>\n      >,\n      default: () => [],\n    },\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT],\n  setup(props, { emit }) {\n    const activeNames = ref([].concat(props.modelValue))\n\n    const setActiveNames = (_activeNames) => {\n      activeNames.value = [].concat(_activeNames)\n      const value = props.accordion ? activeNames.value[0] : activeNames.value\n      emit(UPDATE_MODEL_EVENT, value)\n      emit(CHANGE_EVENT, value)\n    }\n\n    const handleItemClick = (name) => {\n      if (props.accordion) {\n        setActiveNames(\n          (activeNames.value[0] || activeNames.value[0] === 0) &&\n            activeNames.value[0] === name\n            ? ''\n            : name\n        )\n      } else {\n        const _activeNames = activeNames.value.slice(0)\n        const index = _activeNames.indexOf(name)\n\n        if (index > -1) {\n          _activeNames.splice(index, 1)\n        } else {\n          _activeNames.push(name)\n        }\n        setActiveNames(_activeNames)\n      }\n    }\n\n    watch(\n      () => props.modelValue,\n      () => {\n        activeNames.value = [].concat(props.modelValue)\n      }\n    )\n\n    provide<CollapseProvider>('collapse', {\n      activeNames,\n      handleItemClick,\n    })\n\n    return {\n      activeNames,\n      setActiveNames,\n      handleItemClick,\n    }\n  },\n})\n</script>\n"],"names":["defineComponent","UPDATE_MODEL_EVENT","CHANGE_EVENT"],"mappings":";;;;;;;AAQA,aAAeA,mBAAe,CAAC;AAC/B,EAAE,MAAM,YAAY;AACpB,EAAE,KAAK,EAAE;;AAET,IAAI,YAAY;MACV,IAAI,EAAE,CAAC,KAAK,EAAE;MACd;KACD;;OAEE,EAAE,CAACC,4BAAkB,EAAEC,sBAAY,CAAC;QACnC,KAAK,EAAE,EAAE,IAAI;;UAEX;;;MAGJ,IAAI,CAACD,8BAAoB,KAAK,CAAC,CAAC;MAChC,IAAI,CAACC,sBAAY,EAAE;KACpB,CAAC;;MAEA,IAAI,KAAK,CAAC,SAAS,EAAE;QACnB,cAAc,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;OACzC,MAAM;QACL,MAAM,YAAY,GAAG;QACrB,MAAM,KAAK,GAAG;;;eAGP;UACL,YAAY,CAAC,IAAI;SAClB;sBACa,CAAC,YAAY,CAAC,CAAC;;;oBAGrB;;MAEV;eACK,CAAC,UAAU,EAAE;iBACP;;;WAGN;;oBAES;;;;;;;;"}