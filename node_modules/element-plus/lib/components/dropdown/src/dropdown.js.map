{"version":3,"file":"dropdown.js","sources":["../../../../../../packages/components/dropdown/src/dropdown.ts"],"sourcesContent":["import { EVENT_CODE } from '@element-plus/utils/aria'\nimport { buildProps, definePropType } from '@element-plus/utils/props'\nimport { createCollectionWithScope } from '@element-plus/components/collection'\nimport {\n  useTooltipTriggerProps,\n  useTooltipContentProps,\n} from '@element-plus/components/tooltip'\n\nimport type { ButtonType } from '@element-plus/components/button'\nimport type { Placement } from '@element-plus/components/popper'\nimport type {\n  ComponentInternalInstance,\n  Component,\n  ComputedRef,\n  Ref,\n} from 'vue'\nimport type { Nullable } from '@element-plus/utils/types'\n\nexport interface IElDropdownInstance {\n  instance?: ComponentInternalInstance\n  dropdownSize?: ComputedRef<string>\n  visible?: Ref<boolean>\n  handleClick?: () => void\n  commandHandler?: (...arg) => void\n  show?: () => void\n  hide?: () => void\n  trigger?: ComputedRef<string>\n  hideOnClick?: ComputedRef<boolean>\n  triggerElm?: ComputedRef<Nullable<HTMLButtonElement>>\n}\n\nexport const dropdownProps = {\n  trigger: useTooltipTriggerProps.trigger,\n\n  effect: {\n    ...useTooltipContentProps.effect,\n    default: 'light',\n  },\n  ...buildProps({\n    type: {\n      type: definePropType<ButtonType>(String),\n    },\n    placement: {\n      type: definePropType<Placement>(String),\n      default: 'bottom',\n    },\n    size: {\n      type: String,\n      default: '',\n    },\n    splitButton: Boolean,\n    hideOnClick: {\n      type: Boolean,\n      default: true,\n    },\n    loop: {\n      type: Boolean,\n    },\n\n    showTimeout: {\n      type: Number,\n      default: 150,\n    },\n    hideTimeout: {\n      type: Number,\n      default: 150,\n    },\n    tabindex: {\n      type: definePropType<number | string>([Number, String]),\n      default: 0,\n    },\n\n    maxHeight: {\n      type: definePropType<number | string>([Number, String]),\n      default: '',\n    },\n    popperClass: {\n      type: String,\n      default: '',\n    },\n  } as const),\n} as const\n\nexport const dropdownItemProps = buildProps({\n  command: {\n    type: [Object, String, Number],\n    default: () => ({}),\n  },\n  disabled: Boolean,\n  divided: Boolean,\n  textValue: String,\n  icon: {\n    type: definePropType<string | Component>([String, Object]),\n  },\n} as const)\n\nexport const dropdownMenuProps = buildProps({\n  onKeydown: { type: definePropType<(e: KeyboardEvent) => void>(Function) },\n})\n\nexport const FIRST_KEYS = [\n  EVENT_CODE.down,\n  EVENT_CODE.pageDown,\n  EVENT_CODE.home,\n]\n\nexport const LAST_KEYS = [EVENT_CODE.up, EVENT_CODE.pageUp, EVENT_CODE.end]\n\nexport const FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS]\n\nconst {\n  ElCollection,\n  ElCollectionItem,\n  COLLECTION_INJECTION_KEY,\n  COLLECTION_ITEM_INJECTION_KEY,\n} = createCollectionWithScope('Dropdown')\n\nexport {\n  ElCollection,\n  ElCollectionItem,\n  COLLECTION_INJECTION_KEY as DROPDOWN_COLLECTION_INJECTION_KEY,\n  COLLECTION_ITEM_INJECTION_KEY as DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n}\n"],"names":["useTooltipTriggerProps","useTooltipContentProps","buildProps","definePropType","EVENT_CODE","createCollectionWithScope"],"mappings":";;;;;;;;;;;AAOY,MAAC,aAAa,GAAG;AAC7B,EAAE,OAAO,EAAEA,8BAAsB,CAAC,OAAO;AACzC,EAAE,MAAM,EAAE;AACV,IAAI,GAAGC,8BAAsB,CAAC,MAAM;AACpC,IAAI,OAAO,EAAE,OAAO;AACpB,GAAG;AACH,EAAE,GAAGC,gBAAU,CAAC;AAChB,IAAI,IAAI,EAAE;AACV,MAAM,IAAI,EAAEC,oBAAc,CAAC,MAAM,CAAC;AAClC,KAAK;AACL,IAAI,SAAS,EAAE;AACf,MAAM,IAAI,EAAEA,oBAAc,CAAC,MAAM,CAAC;AAClC,MAAM,OAAO,EAAE,QAAQ;AACvB,KAAK;AACL,IAAI,IAAI,EAAE;AACV,MAAM,IAAI,EAAE,MAAM;AAClB,MAAM,OAAO,EAAE,EAAE;AACjB,KAAK;AACL,IAAI,WAAW,EAAE,OAAO;AACxB,IAAI,WAAW,EAAE;AACjB,MAAM,IAAI,EAAE,OAAO;AACnB,MAAM,OAAO,EAAE,IAAI;AACnB,KAAK;AACL,IAAI,IAAI,EAAE;AACV,MAAM,IAAI,EAAE,OAAO;AACnB,KAAK;AACL,IAAI,WAAW,EAAE;AACjB,MAAM,IAAI,EAAE,MAAM;AAClB,MAAM,OAAO,EAAE,GAAG;AAClB,KAAK;AACL,IAAI,WAAW,EAAE;AACjB,MAAM,IAAI,EAAE,MAAM;AAClB,MAAM,OAAO,EAAE,GAAG;AAClB,KAAK;AACL,IAAI,QAAQ,EAAE;AACd,MAAM,IAAI,EAAEA,oBAAc,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC5C,MAAM,OAAO,EAAE,CAAC;AAChB,KAAK;AACL,IAAI,SAAS,EAAE;AACf,MAAM,IAAI,EAAEA,oBAAc,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC5C,MAAM,OAAO,EAAE,EAAE;AACjB,KAAK;AACL,IAAI,WAAW,EAAE;AACjB,MAAM,IAAI,EAAE,MAAM;AAClB,MAAM,OAAO,EAAE,EAAE;AACjB,KAAK;AACL,GAAG,CAAC;AACJ,EAAE;AACU,MAAC,iBAAiB,GAAGD,gBAAU,CAAC;AAC5C,EAAE,OAAO,EAAE;AACX,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;AAClC,IAAI,OAAO,EAAE,OAAO,EAAE,CAAC;AACvB,GAAG;AACH,EAAE,QAAQ,EAAE,OAAO;AACnB,EAAE,OAAO,EAAE,OAAO;AAClB,EAAE,SAAS,EAAE,MAAM;AACnB,EAAE,IAAI,EAAE;AACR,IAAI,IAAI,EAAEC,oBAAc,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC1C,GAAG;AACH,CAAC,EAAE;AACS,MAAC,iBAAiB,GAAGD,gBAAU,CAAC;AAC5C,EAAE,SAAS,EAAE,EAAE,IAAI,EAAEC,oBAAc,CAAC,QAAQ,CAAC,EAAE;AAC/C,CAAC,EAAE;AACS,MAAC,UAAU,GAAG;AAC1B,EAAEC,eAAU,CAAC,IAAI;AACjB,EAAEA,eAAU,CAAC,QAAQ;AACrB,EAAEA,eAAU,CAAC,IAAI;AACjB,EAAE;AACU,MAAC,SAAS,GAAG,CAACA,eAAU,CAAC,EAAE,EAAEA,eAAU,CAAC,MAAM,EAAEA,eAAU,CAAC,GAAG,EAAE;AAChE,MAAC,eAAe,GAAG,CAAC,GAAG,UAAU,EAAE,GAAG,SAAS,EAAE;AACxD,MAAC;AACN,EAAE,YAAY;AACd,EAAE,gBAAgB;AAClB,EAAE,wBAAwB;AAC1B,EAAE,6BAA6B;AAC/B,CAAC,GAAGC,oCAAyB,CAAC,UAAU;;;;;;;;;;;;;"}