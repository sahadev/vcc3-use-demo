{"version":3,"file":"style-helper.js","sources":["../../../../../../../packages/components/table/src/table-footer/style-helper.ts"],"sourcesContent":["import { computed, getCurrentInstance } from 'vue'\nimport {\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n  ensurePosition,\n  ensureRightFixedStyle,\n} from '../util'\nimport useMapState from './mapState-helper'\nimport type { Table } from '../table/defaults'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableFooter } from '.'\n\nfunction useStyle<T>(props: TableFooter<T>) {\n  const instance = getCurrentInstance()\n  const table = instance.parent as Table<T>\n\n  const { columns } = useMapState<T>()\n\n  const hasGutter = computed(() => {\n    return (\n      !props.fixed &&\n      table.layout.gutterWidth > 0 &&\n      table.layout.height.value &&\n      table.layout.bodyScrollHeight.value > table.layout.bodyHeight.value\n    )\n  })\n\n  const gutterWidth = computed(() => {\n    return table.layout.gutterWidth\n  })\n  const getCellClasses = (\n    columns: TableColumnCtx<T>[],\n    cellIndex: number,\n    hasGutter: boolean\n  ) => {\n    const column = columns[cellIndex]\n    const classes = [\n      'el-table__cell',\n      column.id,\n      column.align,\n      column.labelClassName,\n      ...getFixedColumnsClass(cellIndex, column.fixed, props.store),\n    ]\n    if (column.className) {\n      classes.push(column.className)\n    }\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n    if (hasGutter && cellIndex === columns.length - 1) {\n      classes.push('last')\n    }\n    return classes\n  }\n\n  const getCellStyles = (\n    column: TableColumnCtx<T>,\n    cellIndex: number,\n    hasGutter: boolean\n  ) => {\n    const fixedStyle = getFixedColumnOffset(\n      cellIndex,\n      column.fixed,\n      props.store\n    )\n    ensureRightFixedStyle(fixedStyle, hasGutter)\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return fixedStyle\n  }\n\n  return {\n    hasGutter,\n    gutterWidth,\n    getCellClasses,\n    getCellStyles,\n    columns,\n  }\n}\n\nexport default useStyle\n"],"names":["getCurrentInstance","useMapState","computed","getFixedColumnsClass","getFixedColumnOffset","ensureRightFixedStyle","ensurePosition"],"mappings":";;;;;;;;AAQA,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,EAAE,MAAM,QAAQ,GAAGA,sBAAkB,EAAE,CAAC;AACxC,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;AAChC,EAAE,MAAM,EAAE,OAAO,EAAE,GAAGC,yBAAW,EAAE,CAAC;AACpC,EAAE,MAAM,SAAS,GAAGC,YAAQ,CAAC,MAAM;AACnC,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;AAC5J,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,WAAW,GAAGA,YAAQ,CAAC,MAAM;AACrC,IAAI,OAAO,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;AACpC,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,cAAc,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,UAAU,KAAK;AAC9D,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;AACvC,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,gBAAgB;AACtB,MAAM,MAAM,CAAC,EAAE;AACf,MAAM,MAAM,CAAC,KAAK;AAClB,MAAM,MAAM,CAAC,cAAc;AAC3B,MAAM,GAAGC,yBAAoB,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC;AACnE,KAAK,CAAC;AACN,IAAI,IAAI,MAAM,CAAC,SAAS,EAAE;AAC1B,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;AAC1B,MAAM,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC9B,KAAK;AACL,IAAI,IAAI,UAAU,IAAI,SAAS,KAAK,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACzD,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC3B,KAAK;AACL,IAAI,OAAO,OAAO,CAAC;AACnB,GAAG,CAAC;AACJ,EAAE,MAAM,aAAa,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,KAAK;AAC3D,IAAI,MAAM,UAAU,GAAGC,yBAAoB,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;AAClF,IAAIC,0BAAqB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;AAClD,IAAIC,mBAAc,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;AACvC,IAAIA,mBAAc,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;AACxC,IAAI,OAAO,UAAU,CAAC;AACtB,GAAG,CAAC;AACJ,EAAE,OAAO;AACT,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,cAAc;AAClB,IAAI,aAAa;AACjB,IAAI,OAAO;AACX,GAAG,CAAC;AACJ;;;;"}