((typeof self !== 'undefined' ? self : this)["webpackJsonpvcc3"] = (typeof self !== 'undefined' ? self : this)["webpackJsonpvcc3"] || []).push([[13,14],{

/***/ "0ea5":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".container[data-v-0073c6de]{padding:10px;width:50%;text-align:center}.half-width[data-v-0073c6de]{width:0;-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.center[data-v-0073c6de]{display:inline-block!important;margin:10px 10px}.item[data-v-0073c6de]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.quick-add-root[data-v-0073c6de]{padding:5px 10px;border:1px dashed #c6c6c6;border-radius:5px;font-size:12px;color:grey}.split[data-v-0073c6de]{width:30px;text-align:center;font-weight:700}.el-icon-minus[data-v-0073c6de],.el-icon-plus[data-v-0073c6de]{margin-left:10px}.el-button+.el-button[data-v-0073c6de]{margin-left:0}.shortcut-tip[data-v-0073c6de]{font-size:12px;color:grey;padding:2px;border-bottom:1px solid grey}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "64d19":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external {"commonjs":"vue","commonjs2":"vue","root":"Vue"}
var external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__("8bbf");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader-v16/dist??ref--1-1!./src/components/AttributeInput.vue?vue&type=template&id=0073c6de&scoped=true


const _withScopeId = n => (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["pushScopeId"])("data-v-0073c6de"), n = n(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["popScopeId"])(), n);

const _hoisted_1 = {
  style: {
    "text-align": "center"
  }
};
const _hoisted_2 = {
  style: {
    "margin-top": "20px"
  }
};
const _hoisted_3 = {
  name: "1"
};

const _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", {
  class: "split"
}, ":", -1));

const _hoisted_5 = {
  class: "quick-add-root"
};

const _hoisted_6 = /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createTextVNode"])(" 快速增加一些属性: ");

const _hoisted_7 = {
  style: {
    "margin-top": "5px"
  }
};

const _hoisted_8 = /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createTextVNode"])("Class ");

const _hoisted_9 = /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createTextVNode"])("点击事件");

const _hoisted_10 = /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createTextVNode"])("文本内容");

const _hoisted_11 = {
  name: "2"
};
const _hoisted_12 = {
  style: {
    "margin-top": "10px",
    "text-align": "center"
  }
};

const _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", {
  style: {
    "text-algin": "center"
  }
}, [/*#__PURE__*/Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("span", {
  class: "shortcut-tip"
}, "支持快捷键操作")], -1));

function render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_el_switch = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-switch");

  const _component_el_input = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-input");

  const _component_l_minus = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("l-minus");

  const _component_el_icon = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-icon");

  const _component_el_tag = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-tag");

  const _component_circle_plus = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("circle-plus");

  const _component_el_button = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-button");

  const _component_el_tooltip = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-tooltip");

  const _component_l_refresh = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("l-refresh");

  const _component_l_delete = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("l-delete");

  const _component_document_copy = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("document-copy");

  const _component_el_card = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])("el-card");

  return Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_card, {
    class: "attribute-container"
  }, {
    default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_1, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_switch, {
      modelValue: _ctx.editMode,
      "onUpdate:modelValue": _cache[0] || (_cache[0] = $event => _ctx.editMode = $event),
      "active-text": "自由编辑",
      "inactive-text": "约束编辑",
      "active-color": "#13ce66",
      "inactive-color": "#13ce66"
    }, null, 8, ["modelValue"])]), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_2, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withDirectives"])(Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_3, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", null, [(Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(true), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementBlock"])(external_commonjs_vue_commonjs2_vue_root_Vue_["Fragment"], null, Object(external_commonjs_vue_commonjs2_vue_root_Vue_["renderList"])(_ctx.localAttributes, (item, index) => {
      return Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementBlock"])("div", {
        class: "item",
        key: index
      }, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_input, {
        modelValue: item.key,
        "onUpdate:modelValue": $event => item.key = $event,
        placeholder: 'key' + index,
        class: "half-width"
      }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder"]), _hoisted_4, Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_input, {
        modelValue: item.value,
        "onUpdate:modelValue": $event => item.value = $event,
        placeholder: 'value' + index,
        class: "half-width",
        style: {
          "flex-grow": "3"
        }
      }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder"]), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_icon, {
        onClick: $event => $options.deleteItem(index),
        style: {
          "margin-left": "5px"
        }
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_l_minus)]),
        _: 2
      }, 1032, ["onClick"])]);
    }), 128)), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_5, [_hoisted_6, Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_7, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(external_commonjs_vue_commonjs2_vue_root_Vue_["Transition"], {
      name: "el-zoom-in-center"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [$options.attributeKeys.indexOf('class') == -1 ? (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_tag, {
        key: 0,
        size: "small",
        type: "success",
        onClick: $options.onClassClick,
        effect: "dark"
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [_hoisted_8]),
        _: 1
      }, 8, ["onClick"])) : Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createCommentVNode"])("", true)]),
      _: 1
    }), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(external_commonjs_vue_commonjs2_vue_root_Vue_["Transition"], {
      name: "el-zoom-in-center"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [$options.attributeKeys.indexOf('@click') == -1 ? (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_tag, {
        key: 0,
        size: "small",
        type: "success",
        onClick: $options.onEventClick,
        effect: "dark"
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [_hoisted_9]),
        _: 1
      }, 8, ["onClick"])) : Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createCommentVNode"])("", true)]),
      _: 1
    }), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(external_commonjs_vue_commonjs2_vue_root_Vue_["Transition"], {
      name: "el-zoom-in-center"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [!$options.attributeKeys.includes('__text__') ? (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_tag, {
        key: 0,
        size: "small",
        type: "success",
        onClick: $options.onTextClick,
        effect: "dark"
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [_hoisted_10]),
        _: 1
      }, 8, ["onClick"])) : Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createCommentVNode"])("", true)]),
      _: 1
    })])])])], 512), [[external_commonjs_vue_commonjs2_vue_root_Vue_["vShow"], !_ctx.editMode]]), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withDirectives"])(Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_11, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_input, {
      type: "textarea",
      autosize: {
        minRows: 4
      },
      placeholder: "请输入属性, 以key: value的形式(冒号后要有空格)",
      modelValue: _ctx.textAttributes,
      "onUpdate:modelValue": _cache[1] || (_cache[1] = $event => _ctx.textAttributes = $event)
    }, null, 8, ["modelValue"])], 512), [[external_commonjs_vue_commonjs2_vue_root_Vue_["vShow"], _ctx.editMode]])]), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createElementVNode"])("div", _hoisted_12, [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_tooltip, {
      class: "item",
      effect: "dark",
      content: "新增属性 ctrl+a",
      placement: "bottom"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_button, {
        type: "primary",
        class: "center",
        onClick: $options.createNew,
        circle: ""
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_icon, null, {
          default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_circle_plus)]),
          _: 1
        })]),
        _: 1
      }, 8, ["onClick"])]),
      _: 1
    }), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_tooltip, {
      class: "item",
      effect: "dark",
      content: "保存属性 ctrl+s",
      placement: "bottom"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_button, {
        type: "success",
        class: "center",
        onClick: $options.save,
        circle: ""
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_icon, null, {
          default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_l_refresh)]),
          _: 1
        })]),
        _: 1
      }, 8, ["onClick"])]),
      _: 1
    }), $props.enableRemoveButton ? (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_tooltip, {
      key: 0,
      class: "item",
      effect: "dark",
      content: "移除该组件 ctrl+d",
      placement: "bottom"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_button, {
        type: "danger",
        class: "center",
        onClick: $options.remove,
        circle: ""
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_icon, null, {
          default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_l_delete)]),
          _: 1
        })]),
        _: 1
      }, 8, ["onClick"])]),
      _: 1
    })) : Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createCommentVNode"])("", true), $options.enableBroButton ? (Object(external_commonjs_vue_commonjs2_vue_root_Vue_["openBlock"])(), Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createBlock"])(_component_el_tooltip, {
      key: 1,
      class: "item",
      effect: "dark",
      content: "复制一个兄弟组件 ctrl+c",
      placement: "bottom"
    }, {
      default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_button, {
        type: "primary",
        class: "center",
        onClick: $options.copyBro,
        circle: ""
      }, {
        default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_el_icon, null, {
          default: Object(external_commonjs_vue_commonjs2_vue_root_Vue_["withCtx"])(() => [Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createVNode"])(_component_document_copy)]),
          _: 1
        })]),
        _: 1
      }, 8, ["onClick"])]),
      _: 1
    })) : Object(external_commonjs_vue_commonjs2_vue_root_Vue_["createCommentVNode"])("", true), _hoisted_13])]),
    _: 1
  });
}
// CONCATENATED MODULE: ./src/components/AttributeInput.vue?vue&type=template&id=0073c6de&scoped=true

// EXTERNAL MODULE: ./src/utils/common.js + 15 modules
var common = __webpack_require__("cf45");

// EXTERNAL MODULE: ./src/utils/forCode.js + 1 modules
var forCode = __webpack_require__("d762");

// CONCATENATED MODULE: ./src/libs/bro-ele-config.js


function brotherEleEnum() {
  return [{
    name: 'el-option',
    ifInDoc: false // 这个组件是否默认在Dom上展示，如果不展示，则添加后不需要更新Dom，否则需要更新Dom

  }, {
    name: 'el-table-column',
    ifInDoc: false
  }, {
    name: 'el-checkbox',
    ifInDoc: true
  }, {
    name: 'el-radio',
    ifInDoc: true
  }];
}

function checkIsInVaildElement(event) {
  return new Promise((resolve, reject) => {
    const target = event.path.find(item => item.attributes.lc_id.nodeValue); // 获取带有ID的原始结构，这个ID用于生成一个不同ID的副本

    const __rawVueInfo__ = window.treeWithID && window.treeWithID[target.attributes.lc_id.nodeValue];

    if (target && __rawVueInfo__) {
      const key = Object(common["e" /* getRawComponentKey */])(__rawVueInfo__);
      const result = brotherEleEnum().find(item => item.name === key && item.ifInDoc);

      if (result) {
        resolve({
          target,
          __rawVueInfo__
        });
      } else {
        reject();
      }
    }
  });
}

function copyBroCode(__rawVueInfo__) {
  // 初始化原型
  let newDropObj = Object.create(__rawVueInfo__.__proto__); // 拷贝内部属性

  Object.assign(newDropObj, JSON.parse(JSON.stringify(__rawVueInfo__)));

  newDropObj.__proto__.parentCodeNode.__children.push(newDropObj);
}
/**
 * 这个方法是给控制区域使用的，增加兄弟组件时，控制区域会实时更新
 * @param {*} element 
 */

function initElementHoverAction(element) {
  let currentBroInfo = null;
  const addBroIcon = document.querySelector('.add-bro');
  let isInBroIcon = false;
  addBroIcon.addEventListener('mouseover', event => {
    isInBroIcon = true;
  });
  addBroIcon.addEventListener('mouseout', event => {
    isInBroIcon = false;
  });
  element.addEventListener('mouseover', event => {
    event.stopPropagation();
    checkIsInVaildElement(event).then(callbackInfo => {
      currentBroInfo = callbackInfo;
      const rect = callbackInfo.target.getBoundingClientRect();
      addBroIcon.style = `left:${rect.right + 0}px;top:${rect.top}px;`;
    }, () => {
      setTimeout(() => {
        if (!isInBroIcon) {
          addBroIcon.style = "top:-100px;";
        }
      });
    });
  });
  return function () {
    // 初始化原型
    let newDropObj = Object.create(currentBroInfo.__rawVueInfo__.__proto__); // 拷贝内部属性

    Object.assign(newDropObj, JSON.parse(JSON.stringify(currentBroInfo.__rawVueInfo__))); // 有__key__键可以使在通过updateLinkTree更新结构时，内部的原型指向外部的原型

    newDropObj.__key__ = "__children"; // 使新拖入的代码与原来的做脱离

    const newHtmlCode = Object(forCode["i" /* replaceRowID */])(newDropObj, currentBroInfo.target.outerHTML); // 这里不能是任意的target，必须是已存在代码树，有引用链的节点

    currentBroInfo.target.parentNode.insertAdjacentHTML("beforeend", newHtmlCode);

    newDropObj.__proto__.parentCodeNode.__children.push(newDropObj); // 将所有子节点指向父节点


    Object(forCode["f" /* linkRelationShip */])(newDropObj); // 更新到一个tree上面，维持引用

    Object(forCode["j" /* updateLinkTree */])(newDropObj); // 删除所有的ID

    Object(forCode["h" /* removeAllID */])(newDropObj);
  };
}
// EXTERNAL MODULE: ./node_modules/keymaster/keymaster.js
var keymaster = __webpack_require__("4d7f");
var keymaster_default = /*#__PURE__*/__webpack_require__.n(keymaster);

// EXTERNAL MODULE: ./src/libs/store.js
var store = __webpack_require__("f3df");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader-v16/dist??ref--1-1!./src/components/AttributeInput.vue?vue&type=script&lang=js




/* harmony default export */ var AttributeInputvue_type_script_lang_js = ({
  props: ['__rawVueInfo__', 'enableRemoveButton', 'shortcutInitMode'],
  // __rawVueInfo__为当前编辑的原始代码对象, shortcutInitMode快捷键的初始化方式
  data: function () {
    return {
      input: "",
      localAttributes: [],
      enable: true,
      autoplay: false,
      editMode: false,
      textAttributes: ''
    };
  },

  mounted() {
    const container = document.querySelector(".attribute-container");
    container.addEventListener("click", event => {
      event.stopPropagation();
    });

    if (this.shortcutInitMode === 'auto') {
      // 这种方式用于在检视图中，因为它依赖组件的创建和销毁
      this.initShortcut();
    }
  },

  beforeDestroy() {
    if (this.shortcutInitMode === 'auto') {
      // 防止内存泄漏
      this.destroyShortcut();
    }
  },

  methods: {
    destroyShortcut() {
      console.log(`destroyShortcut by mode: ${this.shortcutInitMode}`);
      keymaster_default.a.unbind('⌘+a, ctrl+a');
      keymaster_default.a.unbind('⌘+s, ctrl+s');
      keymaster_default.a.unbind('⌘+d, ctrl+d');
      keymaster_default.a.unbind('⌘+c, ctrl+c');
    },

    initShortcut() {
      console.log(`init by mode: ${this.shortcutInitMode}`);
      keymaster_default()('⌘+a, ctrl+a', () => {
        if (this.enable) {
          this.createNew();
          return false;
        }
      });
      keymaster_default()('⌘+s, ctrl+s', () => {
        if (this.enable) {
          this.save();
          return false;
        }
      });
      keymaster_default()('⌘+d, ctrl+d', () => {
        if (this.enable) {
          this.remove();
          return false;
        }
      });
      keymaster_default()('⌘+c, ctrl+c', () => {
        if (this.enable && this.enableBroButton) {
          this.copyBro();
          return false;
        }
      });
    },

    onClassClick() {
      this.localAttributes.push({
        key: "class",
        value: "class-name"
      });
    },

    onEventClick() {
      this.localAttributes.push({
        key: "@click",
        value: "onEventClick"
      });
    },

    onTextClick() {
      this.localAttributes.push({
        key: "__text__",
        value: "content"
      });
    },

    createNew() {
      this.localAttributes.push({
        key: "",
        value: ""
      });
    },

    save() {
      try {
        let resultList = [];

        if (!this.editMode) {
          resultList = this.localAttributes.filter(item => {
            return !!item.key;
          });
        } else {
          const attributes = this.textAttributes.split('\n');
          resultList = attributes.map(item => {
            const [key, value] = item.split(": ");
            return {
              key,
              value
            };
          });
          this.localAttributes = resultList;
        }

        this.$emit("save", {
          resultList,
          lc_id: this.rawInfoID
        });
        this.$notify({
          title: "提示",
          message: '代码已更新',
          position: 'bottom-right',
          type: 'success'
        });
      } catch (error) {
        this.$message.error(error);
      }
    },

    remove() {
      this.$emit("remove", {
        lc_id: this.rawInfoID
      });
    },

    deleteItem(index) {
      this.localAttributes.splice(index, 1);
    },

    copyBro() {
      copyBroCode(this.__rawVueInfo__);

      store["a" /* store */].commit('onDragEnd');
    },

    onShow() {
      // 这种方式适用于常规模式下的初始化，因为这个实例初始化后不会被销毁，一直常驻内存。但又不能受到其它实例销毁时的影响，所以需要明确的再次初始化。
      this.initShortcut();
    },

    onHide() {
      this.destroyShortcut();
    }

  },
  computed: {
    componentName() {
      return this.__rawVueInfo__ ? Object(common["e" /* getRawComponentKey */])(this.__rawVueInfo__) : '';
    },

    rawInfoID() {
      return this.__rawVueInfo__ ? Object(common["d" /* getRawComponentContent */])(this.__rawVueInfo__).lc_id : '';
    },

    enableBroButton() {
      const checkResult = brotherEleEnum().find(item => {
        return item.name == this.componentName;
      });
      return checkResult && checkResult.length != 0;
    },

    attributeList() {
      const result = [];
      const vueRawInfo = this.__rawVueInfo__;

      if (vueRawInfo) {
        const object = vueRawInfo[Object(common["e" /* getRawComponentKey */])(vueRawInfo)];

        for (const key in object) {
          if (object.hasOwnProperty(key)) {
            const element = object[key];

            if (typeof element !== "object" && key != 'lc-mark' && key != 'lc_id') {
              // 这两个是保留字段，不对外提供使用
              result.push({
                key: key,
                value: element
              });
            }
          }
        }
      }

      return result;
    },

    attributeKeys() {
      return this.localAttributes.map(item => item.key);
    }

  },
  watch: {
    attributeList: {
      handler: function () {
        this.localAttributes = this.attributeList;
      },
      immediate: true
    },

    localAttributes(newValue) {
      if (newValue.length === 0) {
        newValue.push({
          key: "",
          value: ""
        });
      }

      this.textAttributes = newValue.map(item => `${item.key}: ${item.value}`).join('\n');
    }

  }
});
// CONCATENATED MODULE: ./src/components/AttributeInput.vue?vue&type=script&lang=js
 
// EXTERNAL MODULE: ./src/components/AttributeInput.vue?vue&type=style&index=0&id=0073c6de&scoped=true&lang=css
var AttributeInputvue_type_style_index_0_id_0073c6de_scoped_true_lang_css = __webpack_require__("b0f6");

// EXTERNAL MODULE: ./node_modules/vue-loader-v16/dist/exportHelper.js
var exportHelper = __webpack_require__("6b0d");
var exportHelper_default = /*#__PURE__*/__webpack_require__.n(exportHelper);

// CONCATENATED MODULE: ./src/components/AttributeInput.vue







const __exports__ = /*#__PURE__*/exportHelper_default()(AttributeInputvue_type_script_lang_js, [['render',render],['__scopeId',"data-v-0073c6de"]])

/* harmony default export */ var AttributeInput = __webpack_exports__["default"] = (__exports__);

/***/ }),

/***/ "a311":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("0ea5");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("4699713e", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "b0f6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_v16_dist_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_v16_dist_index_js_ref_1_1_AttributeInput_vue_vue_type_style_index_0_id_0073c6de_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a311");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_v16_dist_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_v16_dist_index_js_ref_1_1_AttributeInput_vue_vue_type_style_index_0_id_0073c6de_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_v16_dist_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_v16_dist_index_js_ref_1_1_AttributeInput_vue_vue_type_style_index_0_id_0073c6de_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f3df":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return store; });
/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5502");

const store = Object(vuex__WEBPACK_IMPORTED_MODULE_0__[/* createStore */ "a"])({
  state() {
    return {
      currentEditComp: null,
      renderCount: 0
    };
  },

  mutations: {
    storeCurrentEditComp(state, newComp) {
      state.currentEditComp = newComp;
    },

    onDragEnd(state) {
      state.renderCount++;
    }

  }
});

/***/ })

}]);