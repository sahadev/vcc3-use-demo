(("undefined"!==typeof self?self:this)["webpackJsonpvcc3"]=("undefined"!==typeof self?self:this)["webpackJsonpvcc3"]||[]).push([[13,14],{"0ea5":function(e,t,c){var o=c("24fb");t=o(!1),t.push([e.i,".container[data-v-0073c6de]{padding:10px;width:50%;text-align:center}.half-width[data-v-0073c6de]{width:0;-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.center[data-v-0073c6de]{display:inline-block!important;margin:10px 10px}.item[data-v-0073c6de]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.quick-add-root[data-v-0073c6de]{padding:5px 10px;border:1px dashed #c6c6c6;border-radius:5px;font-size:12px;color:grey}.split[data-v-0073c6de]{width:30px;text-align:center;font-weight:700}.el-icon-minus[data-v-0073c6de],.el-icon-plus[data-v-0073c6de]{margin-left:10px}.el-button+.el-button[data-v-0073c6de]{margin-left:0}.shortcut-tip[data-v-0073c6de]{font-size:12px;color:grey;padding:2px;border-bottom:1px solid grey}",""]),e.exports=t},"64d19":function(e,t,c){"use strict";c.r(t);var o=c("8bbf");const l=e=>(Object(o["pushScopeId"])("data-v-0073c6de"),e=e(),Object(o["popScopeId"])(),e),n={style:{"text-align":"center"}},a={style:{"margin-top":"20px"}},i={name:"1"},r=l(()=>Object(o["createElementVNode"])("div",{class:"split"},":",-1)),s={class:"quick-add-root"},d=Object(o["createTextVNode"])(" 快速增加一些属性: "),u={style:{"margin-top":"5px"}},b=Object(o["createTextVNode"])("Class "),p=Object(o["createTextVNode"])("点击事件"),m=Object(o["createTextVNode"])("文本内容"),h={name:"2"},f={style:{"margin-top":"10px","text-align":"center"}},O=l(()=>Object(o["createElementVNode"])("div",{style:{"text-algin":"center"}},[Object(o["createElementVNode"])("span",{class:"shortcut-tip"},"支持快捷键操作")],-1));function j(e,t,c,l,j,k){const v=Object(o["resolveComponent"])("el-switch"),x=Object(o["resolveComponent"])("el-input"),_=Object(o["resolveComponent"])("l-minus"),y=Object(o["resolveComponent"])("el-icon"),C=Object(o["resolveComponent"])("el-tag"),V=Object(o["resolveComponent"])("circle-plus"),w=Object(o["resolveComponent"])("el-button"),N=Object(o["resolveComponent"])("el-tooltip"),g=Object(o["resolveComponent"])("l-refresh"),B=Object(o["resolveComponent"])("l-delete"),I=Object(o["resolveComponent"])("document-copy"),E=Object(o["resolveComponent"])("el-card");return Object(o["openBlock"])(),Object(o["createBlock"])(E,{class:"attribute-container"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",n,[Object(o["createVNode"])(v,{modelValue:e.editMode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editMode=t),"active-text":"自由编辑","inactive-text":"约束编辑","active-color":"#13ce66","inactive-color":"#13ce66"},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",a,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.localAttributes,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"item",key:t},[Object(o["createVNode"])(x,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,placeholder:"key"+t,class:"half-width"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),r,Object(o["createVNode"])(x,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:"value"+t,class:"half-width",style:{"flex-grow":"3"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),Object(o["createVNode"])(y,{onClick:e=>k.deleteItem(t),style:{"margin-left":"5px"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_)]),_:2},1032,["onClick"])]))),128)),Object(o["createElementVNode"])("div",s,[d,Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-center"},{default:Object(o["withCtx"])(()=>[-1==k.attributeKeys.indexOf("class")?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,size:"small",type:"success",onClick:k.onClassClick,effect:"dark"},{default:Object(o["withCtx"])(()=>[b]),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]),_:1}),Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-center"},{default:Object(o["withCtx"])(()=>[-1==k.attributeKeys.indexOf("@click")?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,size:"small",type:"success",onClick:k.onEventClick,effect:"dark"},{default:Object(o["withCtx"])(()=>[p]),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]),_:1}),Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-center"},{default:Object(o["withCtx"])(()=>[k.attributeKeys.includes("__text__")?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,size:"small",type:"success",onClick:k.onTextClick,effect:"dark"},{default:Object(o["withCtx"])(()=>[m]),_:1},8,["onClick"]))]),_:1})])])])],512),[[o["vShow"],!e.editMode]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(x,{type:"textarea",autosize:{minRows:4},placeholder:"请输入属性, 以key: value的形式(冒号后要有空格)",modelValue:e.textAttributes,"onUpdate:modelValue":t[1]||(t[1]=t=>e.textAttributes=t)},null,8,["modelValue"])],512),[[o["vShow"],e.editMode]])]),Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(N,{class:"item",effect:"dark",content:"新增属性 ctrl+a",placement:"bottom"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{type:"primary",class:"center",onClick:k.createNew,circle:""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(V)]),_:1})]),_:1},8,["onClick"])]),_:1}),Object(o["createVNode"])(N,{class:"item",effect:"dark",content:"保存属性 ctrl+s",placement:"bottom"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{type:"success",class:"center",onClick:k.save,circle:""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g)]),_:1})]),_:1},8,["onClick"])]),_:1}),c.enableRemoveButton?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:0,class:"item",effect:"dark",content:"移除该组件 ctrl+d",placement:"bottom"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{type:"danger",class:"center",onClick:k.remove,circle:""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(B)]),_:1})]),_:1},8,["onClick"])]),_:1})):Object(o["createCommentVNode"])("",!0),k.enableBroButton?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:1,class:"item",effect:"dark",content:"复制一个兄弟组件 ctrl+c",placement:"bottom"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{type:"primary",class:"center",onClick:k.copyBro,circle:""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(I)]),_:1})]),_:1},8,["onClick"])]),_:1})):Object(o["createCommentVNode"])("",!0),O])]),_:1})}var k=c("cf45");c("d762");function v(){return[{name:"el-option",ifInDoc:!1},{name:"el-table-column",ifInDoc:!1},{name:"el-checkbox",ifInDoc:!0},{name:"el-radio",ifInDoc:!0}]}function x(e){let t=Object.create(e.__proto__);Object.assign(t,JSON.parse(JSON.stringify(e))),t.__proto__.parentCodeNode.__children.push(t)}var _=c("4d7f"),y=c.n(_),C=c("f3df"),V={props:["__rawVueInfo__","enableRemoveButton","shortcutInitMode"],data:function(){return{input:"",localAttributes:[],enable:!0,autoplay:!1,editMode:!1,textAttributes:""}},mounted(){const e=document.querySelector(".attribute-container");e.addEventListener("click",e=>{e.stopPropagation()}),"auto"===this.shortcutInitMode&&this.initShortcut()},beforeDestroy(){"auto"===this.shortcutInitMode&&this.destroyShortcut()},methods:{destroyShortcut(){console.log("destroyShortcut by mode: "+this.shortcutInitMode),y.a.unbind("⌘+a, ctrl+a"),y.a.unbind("⌘+s, ctrl+s"),y.a.unbind("⌘+d, ctrl+d"),y.a.unbind("⌘+c, ctrl+c")},initShortcut(){console.log("init by mode: "+this.shortcutInitMode),y()("⌘+a, ctrl+a",()=>{if(this.enable)return this.createNew(),!1}),y()("⌘+s, ctrl+s",()=>{if(this.enable)return this.save(),!1}),y()("⌘+d, ctrl+d",()=>{if(this.enable)return this.remove(),!1}),y()("⌘+c, ctrl+c",()=>{if(this.enable&&this.enableBroButton)return this.copyBro(),!1})},onClassClick(){this.localAttributes.push({key:"class",value:"class-name"})},onEventClick(){this.localAttributes.push({key:"@click",value:"onEventClick"})},onTextClick(){this.localAttributes.push({key:"__text__",value:"content"})},createNew(){this.localAttributes.push({key:"",value:""})},save(){try{let e=[];if(this.editMode){const t=this.textAttributes.split("\n");e=t.map(e=>{const[t,c]=e.split(": ");return{key:t,value:c}}),this.localAttributes=e}else e=this.localAttributes.filter(e=>!!e.key);this.$emit("save",{resultList:e,lc_id:this.rawInfoID}),this.$notify({title:"提示",message:"代码已更新",position:"bottom-right",type:"success"})}catch(e){this.$message.error(e)}},remove(){this.$emit("remove",{lc_id:this.rawInfoID})},deleteItem(e){this.localAttributes.splice(e,1)},copyBro(){x(this.__rawVueInfo__),C["a"].commit("onDragEnd")},onShow(){this.initShortcut()},onHide(){this.destroyShortcut()}},computed:{componentName(){return this.__rawVueInfo__?Object(k["e"])(this.__rawVueInfo__):""},rawInfoID(){return this.__rawVueInfo__?Object(k["d"])(this.__rawVueInfo__).lc_id:""},enableBroButton(){const e=v().find(e=>e.name==this.componentName);return e&&0!=e.length},attributeList(){const e=[],t=this.__rawVueInfo__;if(t){const c=t[Object(k["e"])(t)];for(const t in c)if(c.hasOwnProperty(t)){const o=c[t];"object"!==typeof o&&"lc-mark"!=t&&"lc_id"!=t&&e.push({key:t,value:o})}}return e},attributeKeys(){return this.localAttributes.map(e=>e.key)}},watch:{attributeList:{handler:function(){this.localAttributes=this.attributeList},immediate:!0},localAttributes(e){0===e.length&&e.push({key:"",value:""}),this.textAttributes=e.map(e=>`${e.key}: ${e.value}`).join("\n")}}},w=(c("b0f6"),c("6b0d")),N=c.n(w);const g=N()(V,[["render",j],["__scopeId","data-v-0073c6de"]]);t["default"]=g},a311:function(e,t,c){var o=c("0ea5");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var l=c("499e").default;l("4699713e",o,!0,{sourceMap:!1,shadowMode:!1})},b0f6:function(e,t,c){"use strict";c("a311")},f3df:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var o=c("5502");const l=Object(o["a"])({state(){return{currentEditComp:null,renderCount:0}},mutations:{storeCurrentEditComp(e,t){e.currentEditComp=t},onDragEnd(e){e.renderCount++}}})}}]);