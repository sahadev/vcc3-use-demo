(("undefined"!==typeof self?self:this)["webpackJsonpvcc3"]=("undefined"!==typeof self?self:this)["webpackJsonpvcc3"]||[]).push([[9],{"0c40":function(e,t,a){var n=a("0cda");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("42c098a8",n,!0,{sourceMap:!1,shadowMode:!1})},"0cda":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".dragArea[data-v-641edfac]{min-height:20px;border:1px dashed #7e7e80;border-radius:5px;-webkit-padding-start:30px;padding-inline-start:30px;padding-right:2px;padding-bottom:2px}p[data-v-641edfac]{margin:10px 0}.itemArea[data-v-641edfac]{min-height:20px;border:1px dashed #7e7e80;padding-right:2px;padding-bottom:2px;border-radius:5px;-webkit-padding-start:10px;padding-inline-start:10px;margin:10px 0 0}.is-dragging[data-v-641edfac]{background-color:rgba(106,127,233,.274);border:1px dashed #4964f1;border-radius:5px}",""]),e.exports=t},3538:function(e,t,a){"use strict";a("0c40")},"3a15":function(e,t,a){"use strict";a("d523")},"4f2c":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".center[data-v-768626fa]{padding:20px;text-align:center}[data-v-768626fa]:v-deep(.el-drawer__body){height:100%}.cs-container[data-v-768626fa]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}",""]),e.exports=t},ba04:function(e,t,a){"use strict";a.r(t);var n=a("8bbf");const r=e=>(Object(n["pushScopeId"])("data-v-768626fa"),e=e(),Object(n["popScopeId"])(),e),o={class:"cs-container"},d=r(()=>Object(n["createElementVNode"])("div",{class:"center"},[Object(n["createTextVNode"])("组件结构检视图 "),Object(n["createElementVNode"])("br"),Object(n["createElementVNode"])("span",{style:{"font-size":"12px"}},"Components Structure")],-1)),i={style:{overflow:"scroll",height:"100%",margin:"0 20px",padding:"10px"}};function c(e,t,a,r,c,s){const l=Object(n["resolveComponent"])("nested-draggable"),u=Object(n["resolveComponent"])("el-col"),p=Object(n["resolveComponent"])("attribute-input"),b=Object(n["resolveComponent"])("el-row"),m=Object(n["resolveComponent"])("el-drawer");return Object(n["openBlock"])(),Object(n["createBlock"])(m,{modelValue:s.drawer,"onUpdate:modelValue":t[0]||(t[0]=e=>s.drawer=e),"with-header":!1,size:"70%",direction:"btt"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",o,[d,Object(n["createVNode"])(b,{gutter:20,style:{height:"0px","flex-grow":"1"}},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(u,{span:16,style:{height:"100%"}},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",i,[Object(n["createVNode"])(l,{data:c.treeData},null,8,["data"])])]),_:1}),Object(n["createVNode"])(u,{span:8},{default:Object(n["withCtx"])(()=>[s.currentEditRawInfo?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,ref:"attributeInput",enableRemoveButton:!0,onSave:s.onSaveAttr,shortcutInitMode:"auto",onRemove:s.onRemove,__rawVueInfo__:s.currentEditRawInfo},null,8,["onSave","onRemove","__rawVueInfo__"])):Object(n["createCommentVNode"])("",!0)]),_:1})]),_:1})])]),_:1},8,["modelValue"])}var s=a("cf45");const l={class:"itemArea"};function u(e,t,a,r,o,d){const i=Object(n["resolveComponent"])("nested-draggable"),c=Object(n["resolveComponent"])("draggable");return Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"dragArea",tag:"ul",list:a.data,onStart:d.onStartDrag,onChoose:d.onClick,group:{name:"g1"},"item-key":d.getItemKey,onEnd:d.onEndDrag},{item:Object(n["withCtx"])(({element:e})=>[Object(n["createElementVNode"])("li",l,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(d.getRawComponentKey(e)),1),Object(n["createVNode"])(i,{data:d.getChild(e)},null,8,["data"])])]),_:1},8,["list","onStart","onChoose","item-key","onEnd"])}var p=a("b76a"),b=a.n(p),m=a("f3df"),f={props:{data:{required:!0,type:Array}},data(){return{}},computed:{},methods:{getItemKey(e){return Object(s["d"])(e).lc_id},getChild(e){const t=Object(s["d"])(e);return t.__children||(t.__children=[]),t.__children},getRawComponentKey:s["e"],getRawComponentContent:s["d"],onStartDrag(e){e.item.classList.add("is-dragging")},onClick(e){m["a"].state.currentEditComp&&m["a"].state.currentEditComp.item.classList.remove("is-dragging"),e.item.classList.add("is-dragging"),e.vccData=Object(s["d"])(this.data[e.oldIndex]),m["a"].commit("storeCurrentEditComp",e)},onEndDrag(e){e.item.classList.remove("is-dragging"),m["a"].commit("onDragEnd")}},components:{draggable:b.a},name:"nested-draggable"},g=(a("3538"),a("6b0d")),h=a.n(g);const v=h()(f,[["render",u],["__scopeId","data-v-641edfac"]]);var C=v,x={props:["visible","initStructure"],emits:["onLevelChange","remove","save","update:visible","reRender"],components:{AttributeInput:Object(n["defineAsyncComponent"])(()=>a.e(14).then(a.bind(null,"64d19"))),nestedDraggable:C},data(){return{treeData:[]}},beforeCreate(){},created(){},beforeMount(){},mounted(){this.updateCode(this.initStructure)},beforeUpdate(){},updated(){},destoryed(){},methods:{onNodeClick(e){this.currentEditRawInfo=e.rawInfo},onRemove({lc_id:e}){this.$emit("remove",{lc_id:e}),this.currentEditRawInfo=null},onSaveAttr(e){this.$emit("save",e)},updateCode(e){if(e){this._codeRawInfo=e;const t=Object(s["d"])(e),a=t.__children;this.treeData=a}}},watch:{renderCount(){this.$emit("reRender",this._codeRawInfo)}},computed:{drawer:{get(){return this.visible},set(){this.$emit("update:visible",!1)}},renderCount(){return m["a"].state.renderCount},canInitShortcut(){return null!==this.currentEditRawInfo&&this.drawer},currentEditRawInfo(){if(m["a"].state.currentEditComp){const e=m["a"].state.currentEditComp.vccData;return window.tree[e.lc_id]}return null}},fillter:{}};a("3a15");const j=h()(x,[["render",c],["__scopeId","data-v-768626fa"]]);t["default"]=j},d523:function(e,t,a){var n=a("4f2c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("9d9f24e2",n,!0,{sourceMap:!1,shadowMode:!1})},f3df:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("5502");const r=Object(n["a"])({state(){return{currentEditComp:null,renderCount:0}},mutations:{storeCurrentEditComp(e,t){e.currentEditComp=t},onDragEnd(e){e.renderCount++}}})}}]);